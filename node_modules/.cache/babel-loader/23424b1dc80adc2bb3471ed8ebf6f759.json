{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/Desktop/webdev/invoice-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/User/Desktop/webdev/invoice-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useGlobalContext}from\"../context\";import garbage from\"../assets/icon-delete.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Item=function Item(_ref){var register=_ref.register,watch=_ref.watch;var _useGlobalContext=useGlobalContext(),info=_useGlobalContext.info,setInfo=_useGlobalContext.setInfo;var _useState=useState(_toConsumableArray(info.items)),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var addItem=function addItem(){setItem(function(prevItem){return[].concat(_toConsumableArray(prevItem),[{}]);});};var removeItem=function removeItem(index){setItem(function(prevItem){return _toConsumableArray(prevItem.filter(function(item,i){console.log(i!==index);return i!==index;}));});};return/*#__PURE__*/_jsxs(\"div\",{children:[item.map(function(el,i){var fieldName=\"items[\".concat(i,\"]\");var quantity=watch(\"\".concat(fieldName,\".quantity\"));var price=watch(\"\".concat(fieldName,\".price\"));return/*#__PURE__*/_jsx(\"div\",{name:fieldName,children:/*#__PURE__*/_jsxs(\"div\",{className:\"items\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input item__input__name\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Item Name\",/*#__PURE__*/_jsx(\"input\",{// style={{\n//   border: `${errors?.fieldName?.name}` ? \"1px solid red\" : \"\",\n// }}\ntype:\"text\",name:\"\".concat(fieldName,\".name\"),ref:register({required:true,maxLength:80})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"items__total\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"items__input__fields\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"qty input\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Item Qty\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"\".concat(fieldName,\".quantity\"),ref:register({required:true,maxLength:5})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Item Price\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"\".concat(fieldName,\".price\"),ref:register({required:true,maxLength:8})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"h3\",{children:quantity*price||\"0.00\"})]}),/*#__PURE__*/_jsx(\"img\",{className:\"garbage\",src:garbage,alt:\"\",onClick:function onClick(){item.length>1&&removeItem(i);}})]})]})},fieldName);}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addItem,className:\"add-item btn\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"+ Add Item \"})})]});};export default Item;","map":{"version":3,"sources":["C:/Users/User/Desktop/webdev/invoice-app/src/Components/Item.js"],"names":["React","useState","useGlobalContext","Item","register","watch","info","setInfo","items","item","setItem","addItem","prevItem","removeItem","index","filter","i","console","log","map","el","fieldName","quantity","price","required","maxLength","garbage","length"],"mappings":"sUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,gBAAT,KAAiC,YAAjC,C,uIAGA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAyB,IAAtBC,CAAAA,QAAsB,MAAtBA,QAAsB,CAAZC,KAAY,MAAZA,KAAY,uBACVH,gBAAgB,EADN,CAC5BI,IAD4B,mBAC5BA,IAD4B,CACtBC,OADsB,mBACtBA,OADsB,eAEZN,QAAQ,oBAAKK,IAAI,CAACE,KAAV,EAFI,wCAE7BC,IAF6B,eAEvBC,OAFuB,eAIpC,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBD,OAAO,CAAC,SAACE,QAAD,qCAAkBA,QAAlB,GAA4B,EAA5B,IAAD,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC5BJ,OAAO,CAAC,SAACE,QAAD,4BACHA,QAAQ,CAACG,MAAT,CAAgB,SAACN,IAAD,CAAOO,CAAP,CAAa,CAC9BC,OAAO,CAACC,GAAR,CAAYF,CAAC,GAAKF,KAAlB,EACA,MAAOE,CAAAA,CAAC,GAAKF,KAAb,CACD,CAHE,CADG,GAAD,CAAP,CAMD,CAPD,CASA,mBACE,uBACGL,IAAI,CAACU,GAAL,CAAS,SAACC,EAAD,CAAKJ,CAAL,CAAW,CACnB,GAAMK,CAAAA,SAAS,iBAAYL,CAAZ,KAAf,CACA,GAAMM,CAAAA,QAAQ,CAAGjB,KAAK,WAAIgB,SAAJ,cAAtB,CACA,GAAME,CAAAA,KAAK,CAAGlB,KAAK,WAAIgB,SAAJ,WAAnB,CACA,mBACE,YAAK,IAAI,CAAEA,SAAX,uBACE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,kDAEE,cACE;AACA;AACA;AACA,IAAI,CAAC,MAJP,CAKE,IAAI,WAAKA,SAAL,SALN,CAME,GAAG,CAAEjB,QAAQ,CAAC,CAAEoB,QAAQ,CAAE,IAAZ,CAAkBC,SAAS,CAAE,EAA7B,CAAD,CANf,EAFF,GADF,EADF,cAeE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,WAAf,uBACE,iDAEE,cACE,IAAI,CAAC,QADP,CAEE,IAAI,WAAKJ,SAAL,aAFN,CAGE,GAAG,CAAEjB,QAAQ,CAAC,CAAEoB,QAAQ,CAAE,IAAZ,CAAkBC,SAAS,CAAE,CAA7B,CAAD,CAHf,EAFF,GADF,EADF,cAYE,YAAK,SAAS,CAAC,OAAf,uBACE,mDAEE,cACE,IAAI,CAAC,QADP,CAEE,IAAI,WAAKJ,SAAL,UAFN,CAGE,GAAG,CAAEjB,QAAQ,CAAC,CAAEoB,QAAQ,CAAE,IAAZ,CAAkBC,SAAS,CAAE,CAA7B,CAAD,CAHf,EAFF,GADF,EAZF,GADF,cAyBE,oCACE,6BADF,cAEE,oBAAKH,QAAQ,CAAGC,KAAX,EAAoB,MAAzB,EAFF,GAzBF,cA6BE,YACE,SAAS,CAAC,SADZ,CAEE,GAAG,CAAEG,OAFP,CAGE,GAAG,CAAC,EAHN,CAIE,OAAO,CAAE,kBAAM,CACbjB,IAAI,CAACkB,MAAL,CAAc,CAAd,EAAmBd,UAAU,CAACG,CAAD,CAA7B,CACD,CANH,EA7BF,GAfF,GADF,EAA2BK,SAA3B,CADF,CA0DD,CA9DA,CADH,cAgEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEV,OAA/B,CAAwC,SAAS,CAAC,cAAlD,uBACE,mCADF,EAhEF,GADF,CAsED,CAvFD,CAyFA,cAAeR,CAAAA,IAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useGlobalContext } from \"../context\";\r\nimport garbage from \"../assets/icon-delete.svg\";\r\n\r\nconst Item = ({ register, watch,}) => {\r\n  const { info, setInfo } = useGlobalContext();\r\n  const [item, setItem] = useState([...info.items]);\r\n\r\n  const addItem = () => {\r\n    setItem((prevItem) => [...prevItem, {}]);\r\n  };\r\n\r\n  const removeItem = (index) => {\r\n    setItem((prevItem) => [\r\n      ...prevItem.filter((item, i) => {\r\n        console.log(i !== index);\r\n        return i !== index;\r\n      }),\r\n    ]);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {item.map((el, i) => {\r\n        const fieldName = `items[${i}]`;\r\n        const quantity = watch(`${fieldName}.quantity`);\r\n        const price = watch(`${fieldName}.price`);\r\n        return (\r\n          <div name={fieldName} key={fieldName}>\r\n            <div className=\"items\">\r\n              <div className=\"input item__input__name\">\r\n                <label>\r\n                  Item Name\r\n                  <input\r\n                    // style={{\r\n                    //   border: `${errors?.fieldName?.name}` ? \"1px solid red\" : \"\",\r\n                    // }}\r\n                    type=\"text\"\r\n                    name={`${fieldName}.name`}\r\n                    ref={register({ required: true, maxLength: 80 })}\r\n                  />\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"items__total\">\r\n                <div className=\"items__input__fields\">\r\n                  <div className=\"qty input\">\r\n                    <label>\r\n                      Item Qty\r\n                      <input\r\n                        type=\"number\"\r\n                        name={`${fieldName}.quantity`}\r\n                        ref={register({ required: true, maxLength: 5 })}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"price\">\r\n                    <label>\r\n                      Item Price\r\n                      <input\r\n                        type=\"number\"\r\n                        name={`${fieldName}.price`}\r\n                        ref={register({ required: true, maxLength: 8 })}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <h3>Total</h3>\r\n                  <h3>{quantity * price || \"0.00\"}</h3>\r\n                </div>\r\n                <img\r\n                  className=\"garbage\"\r\n                  src={garbage}\r\n                  alt=\"\"\r\n                  onClick={() => {\r\n                    item.length > 1 && removeItem(i);\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      <button type=\"button\" onClick={addItem} className=\"add-item btn\">\r\n        <h3>+ Add Item </h3>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n"]},"metadata":{},"sourceType":"module"}