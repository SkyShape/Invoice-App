{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/Desktop/webdev/invoice-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/User/Desktop/webdev/invoice-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import\"../styles/FormButtons.css\";import{useGlobalContext}from\"../context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FormButtons=function FormButtons(_ref){var handleSubmit=_ref.handleSubmit,onSubmit=_ref.onSubmit,getValues=_ref.getValues;var _useGlobalContext=useGlobalContext(),data=_useGlobalContext.data,setData=_useGlobalContext.setData,edit=_useGlobalContext.edit,idx=_useGlobalContext.idx,handleCancel=_useGlobalContext.handleCancel,setShowForm=_useGlobalContext.setShowForm,setEdit=_useGlobalContext.setEdit,info=_useGlobalContext.info,setInfo=_useGlobalContext.setInfo,idGen=_useGlobalContext.idGen;var handleDraft=function handleDraft(){var total=0;var draft=_objectSpread(_objectSpread({},info),getValues());draft.items.map(function(el){el.total=el.quantity*el.price;total+=parseInt(el.total);draft.total=total;});setInfo(_objectSpread(_objectSpread({},info),draft));!edit?setData([].concat(_toConsumableArray(data),[_objectSpread(_objectSpread({},draft),{},{id:idGen(),status:\"draft\"})])):data.splice(idx,1,draft);};return/*#__PURE__*/_jsx(\"div\",{className:\"form__buttons\",children:!edit||info.status==\"draft\"?/*#__PURE__*/_jsxs(\"div\",{className:\"submit__buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn edit\",onClick:function onClick(){setEdit(false);handleCancel();},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Discard\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"submit__buttons__section\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn edit\",onClick:function onClick(){setShowForm(false);setEdit(false);handleDraft();},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Save as Draft\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn markpaid \",onClick:function onClick(){handleSubmit(onSubmit)();setEdit(false);},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Save & Send\"})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"edit__buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn edit\",onClick:function onClick(){setEdit(false);handleCancel();},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn markpaid\",onClick:function onClick(){handleSubmit(onSubmit)();},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Save Changes\"})})]})});};export default FormButtons;","map":{"version":3,"sources":["C:/Users/User/Desktop/webdev/invoice-app/src/Components/FormButtons.js"],"names":["React","useGlobalContext","FormButtons","handleSubmit","onSubmit","getValues","data","setData","edit","idx","handleCancel","setShowForm","setEdit","info","setInfo","idGen","handleDraft","total","draft","items","map","el","quantity","price","parseInt","id","status","splice"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,2BAAP,CACA,OAASC,gBAAT,KAAiC,YAAjC,C,wFAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA2C,IAAxCC,CAAAA,YAAwC,MAAxCA,YAAwC,CAA1BC,QAA0B,MAA1BA,QAA0B,CAAhBC,SAAgB,MAAhBA,SAAgB,uBAYhEJ,gBAAgB,EAZgD,CAElEK,IAFkE,mBAElEA,IAFkE,CAGlEC,OAHkE,mBAGlEA,OAHkE,CAIlEC,IAJkE,mBAIlEA,IAJkE,CAKlEC,GALkE,mBAKlEA,GALkE,CAMlEC,YANkE,mBAMlEA,YANkE,CAOlEC,WAPkE,mBAOlEA,WAPkE,CAQlEC,OARkE,mBAQlEA,OARkE,CASlEC,IATkE,mBASlEA,IATkE,CAUlEC,OAVkE,mBAUlEA,OAVkE,CAWlEC,KAXkE,mBAWlEA,KAXkE,CAcpE,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAMC,CAAAA,KAAK,gCAAQL,IAAR,EAAiBR,SAAS,EAA1B,CAAX,CACAa,KAAK,CAACC,KAAN,CAAYC,GAAZ,CAAgB,SAACC,EAAD,CAAQ,CACtBA,EAAE,CAACJ,KAAH,CAAWI,EAAE,CAACC,QAAH,CAAcD,EAAE,CAACE,KAA5B,CACAN,KAAK,EAAIO,QAAQ,CAACH,EAAE,CAACJ,KAAJ,CAAjB,CACAC,KAAK,CAACD,KAAN,CAAcA,KAAd,CACD,CAJD,EAKAH,OAAO,gCAAMD,IAAN,EAAeK,KAAf,EAAP,CACA,CAACV,IAAD,CACID,OAAO,8BAAKD,IAAL,kCAAgBY,KAAhB,MAAuBO,EAAE,CAAEV,KAAK,EAAhC,CAAoCW,MAAM,CAAE,OAA5C,KADX,CAEIpB,IAAI,CAACqB,MAAL,CAAYlB,GAAZ,CAAiB,CAAjB,CAAoBS,KAApB,CAFJ,CAGD,CAZD,CAcA,mBACE,YAAK,SAAS,CAAC,eAAf,UACG,CAACV,IAAD,EAASK,IAAI,CAACa,MAAL,EAAe,OAAxB,cACC,aAAK,SAAS,CAAC,iBAAf,wBACE,eACE,SAAS,CAAC,UADZ,CAEE,OAAO,CAAE,kBAAM,CACbd,OAAO,CAAC,KAAD,CAAP,CACAF,YAAY,GACb,CALH,uBAOE,+BAPF,EADF,cAUE,aAAK,SAAS,CAAC,0BAAf,wBACE,eACE,SAAS,CAAC,UADZ,CAEE,OAAO,CAAE,kBAAM,CACbC,WAAW,CAAC,KAAD,CAAX,CACAC,OAAO,CAAC,KAAD,CAAP,CACAI,WAAW,GACZ,CANH,uBAQE,qCARF,EADF,cAYE,eACE,SAAS,CAAC,eADZ,CAEE,OAAO,CAAE,kBAAM,CACbb,YAAY,CAACC,QAAD,CAAZ,GACAQ,OAAO,CAAC,KAAD,CAAP,CACD,CALH,uBAOE,mCAPF,EAZF,GAVF,GADD,cAmCC,aAAK,SAAS,CAAC,eAAf,wBACE,eACE,SAAS,CAAC,UADZ,CAEE,OAAO,CAAE,kBAAM,CACbA,OAAO,CAAC,KAAD,CAAP,CACAF,YAAY,GACb,CALH,uBAOE,8BAPF,EADF,cAWE,eACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAE,kBAAM,CACbP,YAAY,CAACC,QAAD,CAAZ,GACD,CAJH,uBAME,oCANF,EAXF,GApCJ,EADF,CA4DD,CAxFM,CA0FP,cAAeF,CAAAA,WAAf","sourcesContent":["import React from \"react\";\r\nimport \"../styles/FormButtons.css\";\r\nimport { useGlobalContext } from \"../context\";\r\n\r\nexport const FormButtons = ({ handleSubmit, onSubmit, getValues }) => {\r\n  const {\r\n    data,\r\n    setData,\r\n    edit,\r\n    idx,\r\n    handleCancel,\r\n    setShowForm,\r\n    setEdit,\r\n    info,\r\n    setInfo,\r\n    idGen,\r\n  } = useGlobalContext();\r\n\r\n  const handleDraft = () => {\r\n    let total = 0;\r\n    const draft = { ...info, ...getValues() };\r\n    draft.items.map((el) => {\r\n      el.total = el.quantity * el.price;\r\n      total += parseInt(el.total);\r\n      draft.total = total;\r\n    });\r\n    setInfo({ ...info, ...draft });\r\n    !edit\r\n      ? setData([...data, { ...draft, id: idGen(), status: \"draft\" }])\r\n      : data.splice(idx, 1, draft);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form__buttons\">\r\n      {!edit || info.status == \"draft\" ? (\r\n        <div className=\"submit__buttons\">\r\n          <button\r\n            className=\"btn edit\"\r\n            onClick={() => {\r\n              setEdit(false);\r\n              handleCancel();\r\n            }}\r\n          >\r\n            <h3>Discard</h3>\r\n          </button>\r\n          <div className=\"submit__buttons__section\">\r\n            <button\r\n              className=\"btn edit\"\r\n              onClick={() => {\r\n                setShowForm(false);\r\n                setEdit(false);\r\n                handleDraft();\r\n              }}\r\n            >\r\n              <h3>Save as Draft</h3>\r\n            </button>\r\n\r\n            <button\r\n              className=\"btn markpaid \"\r\n              onClick={() => {\r\n                handleSubmit(onSubmit)();\r\n                setEdit(false);\r\n              }}\r\n            >\r\n              <h3>Save & Send</h3>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"edit__buttons\">\r\n          <button\r\n            className=\"btn edit\"\r\n            onClick={() => {\r\n              setEdit(false);\r\n              handleCancel();\r\n            }}\r\n          >\r\n            <h3>Cancel</h3>\r\n          </button>\r\n\r\n          <button\r\n            className=\"btn markpaid\"\r\n            onClick={() => {\r\n              handleSubmit(onSubmit)();\r\n            }}\r\n          >\r\n            <h3>Save Changes</h3>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormButtons;\r\n"]},"metadata":{},"sourceType":"module"}